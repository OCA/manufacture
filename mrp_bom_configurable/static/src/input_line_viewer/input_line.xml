<?xml version="1.0" encoding="UTF-8" ?>
<templates xml:space="preserve">
<t t-name="input_line.clientaction" owl="1">
    <div class="input_line_viewer_container" t-if="state.bomData.data.length != 0">
        <Layout display="display">
            <form
                    t-ref="inputLineForm"
                    class="input_line_form container-fluid o_form_view mt32"
                >
                <div
                        class="o_form_widget"
                        t-foreach="state.inputLineData"
                        t-as="value"
                        t-key="value.name"
                    >
                    <label t-esc="value.string" />
                    <t t-if="value.type == 'selection'">
                        <InputLineSelect
                                value="value"
                                possibleVal="value.possible_values"
                            />
                    </t>
                    <t t-elif="value.type == 'many2one'">
                        <RecordSelect
                                model="value.model"
                                value="value"
                                domain="value.domain"
                                notifyChange="setDataChanged.bind(this)"
                            />
                    </t>
                    <t t-else="">
                        <input class="o_input" type="text" t-model="value.value" />
                    </t>
                </div>
                <div class="input_line_alert" t-if="state.alert || state.message">
                    <div t-esc="state.alert" />
                    <div t-esc="state.message" />
                </div>
                <div class="button_bar">
                    <button
                            class="btn btn-primary"
                            t-att-disabled="!state.dataChanged || state.saving"
                            t-on-click="save"
                        >
                        <t t-if="!state.saving">Save</t>
                        <t t-else="">...</t>
                    </button>
                    <button
                            class="btn"
                            t-att-disabled="!state.dataChanged || state.saving"
                            t-on-click="cancel"
                        >Cancel</button>
                </div>
                <!-- <InputLineButtonBar disabled="!state.dataChanged || state.saving" saving="state.saving" save.bind="save" cancel.bind="cancel" /> -->
            </form>
        </Layout>
        <div class="ilv_list">
            <t t-set-slot="page_1" title="'Component'" isVisible="true">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Component</th>
                            <th>Quantity</th>
                            <th id="unit_header">Unit</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr t-foreach="state.bomData.data" t-as="line" t-key="line.id">
                            <td t-esc="line.component" />
                            <td t-esc="line.quantity" />
                            <td id="unit_content" t-esc="line.unit" />
                        </tr>
                    </tbody>
                </table>
            </t>
        </div>
    </div>
</t>
</templates>
