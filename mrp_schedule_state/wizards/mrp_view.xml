<?xml version="1.0" encoding="UTF-8"?>

<odoo>

    <!-- Switch Schedule State Wizard -->

    <record id="view_wiz_switch_schedule_state" model="ir.ui.view">
        <field name="model">switch.schedule_state</field>
        <field name="arch" type="xml">
            <form string="Switch Schedule State" version="7.0">
                <group col="4">
                    <p colspan="4">
    Replace Schedule State by another one. If schedule state is waiting, only the schedule date will be set.
    The schedule state will automatically change to scheduled when the MO is ready to produce.
                    </p>
                    <field name="schedule_state"/>
                    <field name="schedule_date" attrs="{'invisible': [('schedule_state', '!=', 'scheduled')]}"/>
                </group>
                <footer>
                    <button name="switch_schedule_state" string="Apply"
                        type="object" class="oe_highlight"/>
                    or
                    <button special="cancel" string="Cancel" class="oe_link"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="action_switch_schedule" model="ir.actions.act_window">
        <field name="name">Switch Schedule State</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">switch.schedule_state</field>
        <field name="view_mode">tree,form</field>
        <field name="binding_view_types">form,list</field>
        <field name="view_id" ref="view_wiz_switch_schedule_state"/>
        <field name="target">new</field>
        <field name="binding_model_id" ref="model_mrp_production" />
    </record>

</odoo>
